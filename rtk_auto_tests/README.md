# Автотесты для сайта Ростелеком

Этот репозиторий содержит автотесты для проверки функционала сайта Ростелеком (https://b2c.passport.rt.ru).

## Инструменты тестирования

### 1. Pytest
- **Почему использовался**: pytest позволяет создавать тесты в виде функций и классов, а также предоставляет удобные методы для проверки условий (assert).
- **Что проверялось**: функциональность веб-приложения, включая авторизацию, регистрацию и восстановление пароля.
- **Что сделано**: созданы классы тестов, каждый из которых содержит методы для тестирования различных сценариев. Для проверки ожидаемых результатов использованы методы assert.

### 2. Selenium
- **Почему использовался**: Selenium позволяет имитировать действия пользователя, такие как ввод текста, нажатие кнопок и ожидание загрузки страниц.
- **Что проверялось**: функциональность веб-приложения, включая загрузку страниц, наличие элементов на странице, авторизацию, регистрацию и восстановление пароля.
- **Что сделано**: для взаимодействия с элементами веб-страниц использовались методы Selenium, такие как find_element, send_keys, click. Применялись ожидания (WebDriverWait) для динамической загрузки страниц и элементов.

### 3. WebDriverWait
- **Почему использовался**: WebDriverWait — это инструмент Selenium для ожидания выполнения определенных условий на странице, таких как загрузка элементов или изменение состояния страницы.
- **Что проверялось**: загрузка страниц и элементов, чтобы избежать ошибок, связанных с преждевременным выполнением действий.
- **Что сделано**: использованы ожидания для проверки наличия элементов на странице, загрузки страниц и изменения состояния элементов.

### 4. Page Object Pattern
- **Почему использовался**: паттерн Page Object позволяет инкапсулировать логику работы со страницами, делает тесты более читаемыми и поддерживаемыми.
- **Что проверялось**: структура и изоляция тестового кода от изменений в интерфейсе.
- **Что сделано**: созданы отдельные классы для каждой страницы (авторизация, регистрация, восстановление пароля).

### 5. Excel/Google Таблицы
- **Почему использовался**: Excel/Google Sheets позволяет структурировать и документировать тестовые сценарии.
- **Что проверялось**: тест-кейсы и баг-репорты для различных сценариев тестирования.
- **Что сделано**: созданы тест-кейсы и баг-репорты для каждого сценария тестирования, включая шаги, ожидаемые и фактические результаты.

### 6. time.sleep
- **Почему используется**: time.sleep используется для ожидания загрузки страниц или выполнения действий.
- **Что проверялось**: временные задержки при вводе текста с картинки или ожидании загрузки страниц.
- **Что сделано**: добавлены задержки для ожидания ввода текста с картинки и загрузки страниц.

## Техники тест-дизайна

### 1. Эквивалентное разделение
- **Что проверялось**: Группировка входных данных на валидные и невалидные
- **Почему применена**: Позволяет сократить количество тестов, покрывая все классы эквивалентности
- **Что сделано**: Тесты разделены на положительные и негативные сценарии с ошибками

### 2. Анализ граничных значений
- **Что проверялось**: Крайние значения полей ввода
- **Почему применена**: Обнаружение ошибок на границах допустимых значений
- **Что сделано**: Проверка минимальной длины пароля, формата номера телефона


## Файлы проекта

`conftest.py` - фикстуры для инициализации драйвера

`pages/__init__.py` - файл инициализации пакета pages

`pages/base.py` - базовый класс Page Object

`pages/elements.py` - классы для работы с веб-элементами

`pages/auth_page.py` - Page Object страницы авторизации

`pages/registration_page.py` - Page Object страницы регистрации

`pages/password_recovery_page.py` - Page Object восстановления пароля

`tests/test_auth.py` - тесты авторизации

`tests/test_reg.py` - тесты регистрации

`tests/test_passrec.py` - тесты восстановления пароля

## Как запустить тесты

1. Установите зависимости:
```bash
pip install -r requirements.txt
```
2. Загрузите ChromeDriver с https://chromedriver.chromium.org/downloads

3. Запустите тесты:

```bash
python -m pytest -v --driver Chrome --driver-path chromedriver.exe tests/
```

## Что проверяют тесты:

### Авторизация (test_auth.py - 11 тестов)
-Успешная авторизация по телефону, email, логину, лицевому счету
-Ошибки при неверных данных
-Валидация полей
-Автопереключение табов

### Регистрация (test_reg.py - 7 тестов)
-Успешная регистрация по телефону и email
-Проверка требований к паролю
-Валидация пустых полей
-Проверка совпадения паролей

### Восстановление пароля (test_passrec.py - 4 теста)
-Переход на страницу восстановления
-Восстановление с валидными/невалидными данными
-Проверка ошибок при пустых полях
-Автопереключение табов

Всего: 22 автотеста

## Тест-кейсы
Ссылка на Google таблицу с тест-кейсами - https://docs.google.com/spreadsheets/d/1UrU2uW_oTKptRMoUWlRIqkeaTck8dzIF_Pq9R3AVT2Y/edit?usp=sharing

Всего разработано 16 тест-кейсов, покрывающих основные сценарии:

### Авторизация (11 тест-кейсов)

-TC-AUTH-001: Успешная авторизация по номеру телефона

-TC-AUTH-002: Ошибка авторизации с неверным паролем

-TC-AUTH-003: Авторизация с пустым номером телефона

-TC-AUTH-004: Авторизация с некорректным форматом номера

-TC-AUTH-005: Автопереключение таба при вводе номера

-TC-AUTH-006: Успешная авторизация по почте

-TC-AUTH-007: Авторизация с несуществующим email

-TC-AUTH-008: Успешная авторизация по логину

-TC-AUTH-009: Авторизация по логину в разных регистрах (БАГ)

-TC-AUTH-010: Успешная авторизация по лицевому счету

-TC-AUTH-011: Ошибка при авторизации по несуществующему ЛС

### Регистрация (4 тест-кейса)

-TC-REG-001: Переход на форму регистрации

-TC-REG-002: Успешная регистрация по номеру телефона

-TC-REG-003: Проверка требований к сложности пароля

-TC-REG-004: Успешная регистрация по email

### Восстановление пароля (1 тест-кейс)

-TC-PASSREC-001: Переход на восстановление пароля


## Обнаруженный дефект

Баг: Автоматическое преобразование логина к нижнему регистру в поле ввода на странице авторизации

Описание: При вводе логина в поле "Логин" система автоматически преобразует символы верхнего регистра в нижний регистр

Шаги воспроизведения:
1) Выбрать таб "Логин"
2) Ввести логин с символами верхнего регистра
3) Нажать кнопку "Войти"
4) Проверить, что введено в поле логина

Ожидаемый результат: Логин сохраняется в том виде, в котором его ввел пользователь

Фактический результат: Система автоматически преобразует все символы к нижнему регистру

Серьезность: Low